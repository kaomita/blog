"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6982],{105:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n}},176:(e,t,n)=>{e.exports=n.p+"assets/img/1-1.db91cfe2.jpg"},9163:(e,t,n)=>{n.r(t),n.d(t,{comp:()=>r,data:()=>u});var i=n(6904),a=n(176);const s=[(0,i.Fv)('<p>前言:用作服务器的是一台8年前的海尔笔记本电脑，双核1.1GHz，4G RAM，1T ROM，已经不能从容地使用windows图形化界面了。在这之前被我安装了Manjaro和windows10双系统，但实验课需要使用Ubuntu，于是再安装一个Ubuntu做三系统。但中间出现很多小插曲，比如Manjaro在reboot后直接从硬盘蒸发了，装好ubuntu后win10的启动引导也没了，好在ubuntu server最后安稳落机。</p><p>Manjaro也使用了一段时间，和ubuntu比起来，我更喜欢manjaro管理和安装软件的方式，但用作服务器，ubuntu更稳定一些，不过也更考验记忆力。</p><h2 id="下载-ubuntu-20-04-server" tabindex="-1"><a class="header-anchor" href="#下载-ubuntu-20-04-server"><span>下载 Ubuntu 20.04 server</span></a></h2><p><a href="https://ubuntu.com/download" target="_blank" rel="noopener noreferrer">官网下载</a></p><h2 id="制作系统启动盘" tabindex="-1"><a class="header-anchor" href="#制作系统启动盘"><span>制作系统启动盘</span></a></h2><p>可以用U盘做系统启动盘，也可以用硬盘，但要分出一部分硬盘（大约5G）并格式化为FAT32。因为电脑太老usb接口老化，所以我使用了硬盘做启动盘，在此介绍用硬盘做启动盘的方法。</p><p>在此之前，如果不是把一整块磁盘用来当ubuntu的系统盘，需要先进行磁盘分区，并记住用来做ubuntu系统盘的分区号，例如我的是<code>partition7</code>。可以在windows终端中查询：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">diskpart</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disk</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">   #查磁盘列表</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> disk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 0  </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#选择磁盘</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">list</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> partition</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">   #查分区列表</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>准备工作和制作方法可以参照<a href="https://blog.csdn.net/HeyKith/article/details/127728921" target="_blank" rel="noopener noreferrer">无U盘安装win和ubuntu双系统</a>，如果你想下载ubuntu服务器版，只需参照前半部分就好，因为启动安装程序后，只有命令行。</p><h2 id="安装-ubuntu-20-04-server" tabindex="-1"><a class="header-anchor" href="#安装-ubuntu-20-04-server"><span>安装 Ubuntu 20.04 server</span></a></h2><p>进入安装页面，语言、键盘、网络设置等都可以默认，重点是磁盘分区，记住给ubuntu的分区号，我的是<code>partition7</code>，选择手动分区，选择<code>partition7</code>，格式化为ext4，挂载点为<code>/</code>。点击确认后<code>boot</code>应该会自动挂载到<code>partition2</code>。之后一直按<code>done</code>，直到安装完成。</p><p>如果在分区时出现错误，如下</p><div class="hint-container warning"><p class="hint-container-title">报错提示</p><p>Block probing did not discover any disks. Unfortunately this means that installation will not be possible.</p></div><p>那么恭喜抽到彩蛋。</p><p>按下<code>F2</code>进入安装环境后，在终端中运行 <code>lsblk</code> 或 <code>fdisk -l</code>，看看系统是否识别到硬盘。如果没有识别到，那么你的硬盘可能是<code>RAID</code>模式，需要在BIOS中关闭<code>RAID</code>模式，改为<code>AHCI</code>模式。至于进入BIOS的方法，大部分是开机时按<code>F2</code>或<code>F12</code>，具体可以按机型百度。</p><hr><p>提示该报错还有一种情况，即使用光盘或 ISO 镜像，有时系统会尝试卸载挂载的光盘镜像导致卸载失败</p><figure><img src="'+a+'" alt="安装前提示的报错" tabindex="0" loading="lazy"><figcaption>安装前提示的报错</figcaption></figure><p>这个问题困扰了我很久，最后在Stack Overflow找到了<a href="https://askubuntu.com/questions/1302392/ubuntu-server-20-04-setup-stuck-at-block-probing-did-not-discover-any-disks/1305972#1305972" target="_blank" rel="noopener noreferrer">解决方案</a>。</p><p>进入安装页面后，不要按下done，按F2进入终端，输入<code>umount /cdrom -l</code>解除挂载，然后<code>ctrl+D</code>退出终端，从第一页开始安装，这时就可以正常分区了，<strong>但是要注意</strong>，如果是用硬盘做启动盘，最后安装时又会提示找不到启动盘，所以在进入分区页面后，再次进入终端，输入<code>sudo mount -o loop /dev/sda5 /cdrom</code>，将<code>sda5</code>替换为你的启动盘分区号，重新挂载启动盘，然后<code>ctrl+D</code>退出终端，再从分区页面开始安装，这时就可以正常安装了。</p><hr><p>但很不幸的是，我在安装结束reboot后并没有预期地进入ubuntu终端，而是重复了安装过程，此时我以为安装失败，重复了上述过程，导致windows的启动引导丢失。真正的原因是ubuntu安装成功后，引导ubuntu的安装grub依旧排在第一行，所以默认开机进入ubuntu安装。解决办法是开机时进入BIOS，手动引导ubuntu启动。</p><p>至此，Ubuntu 20.04 server安装完成。</p>',23)],o={},r=(0,n(105).A)(o,[["render",function(e,t){return(0,i.uX)(),(0,i.CE)("div",null,s)}]]),u=JSON.parse('{"path":"/zh/posts/Ubuntu/1.html","title":"安装 Ubuntu 20.04 服务器","lang":"zh-CN","frontmatter":{"title":"安装 Ubuntu 20.04 服务器","icon":"server","date":"2024-09-29T00:00:00.000Z","category":["ubuntu"],"tag":["教程"],"description":"前言:用作服务器的是一台8年前的海尔笔记本电脑，双核1.1GHz，4G RAM，1T ROM，已经不能从容地使用windows图形化界面了。在这之前被我安装了Manjaro和windows10双系统，但实验课需要使用Ubuntu，于是再安装一个Ubuntu做三系统。但中间出现很多小插曲，比如Manjaro在reboot后直接从硬盘蒸发了，装好ubunt...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://kaomita.github.io/blog/blog/posts/Ubuntu/1.html"}],["meta",{"property":"og:url","content":"https://kaomita.github.io/blog/blog/zh/posts/Ubuntu/1.html"}],["meta",{"property":"og:site_name","content":"kaomita"}],["meta",{"property":"og:title","content":"安装 Ubuntu 20.04 服务器"}],["meta",{"property":"og:description","content":"前言:用作服务器的是一台8年前的海尔笔记本电脑，双核1.1GHz，4G RAM，1T ROM，已经不能从容地使用windows图形化界面了。在这之前被我安装了Manjaro和windows10双系统，但实验课需要使用Ubuntu，于是再安装一个Ubuntu做三系统。但中间出现很多小插曲，比如Manjaro在reboot后直接从硬盘蒸发了，装好ubunt..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-11-08T11:28:42.000Z"}],["meta",{"property":"article:author","content":"Yuan Xiao"}],["meta",{"property":"article:tag","content":"教程"}],["meta",{"property":"article:published_time","content":"2024-09-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-08T11:28:42.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装 Ubuntu 20.04 服务器\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-09-29T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-08T11:28:42.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Yuan Xiao\\",\\"url\\":\\"https://kaomita.github.io/blog/\\"}]}"]]},"headers":[{"level":2,"title":"下载 Ubuntu 20.04 server","slug":"下载-ubuntu-20-04-server","link":"#下载-ubuntu-20-04-server","children":[]},{"level":2,"title":"制作系统启动盘","slug":"制作系统启动盘","link":"#制作系统启动盘","children":[]},{"level":2,"title":"安装 Ubuntu 20.04 server","slug":"安装-ubuntu-20-04-server","link":"#安装-ubuntu-20-04-server","children":[]}],"git":{"createdTime":1727609891000,"updatedTime":1762601322000,"contributors":[{"name":"kaomita","email":"yuan1995309@163.com","commits":2},{"name":"Yuan Xiao","email":"3310118198@qq.com","commits":1}]},"readingTime":{"minutes":3.42,"words":1026},"localizedDate":"2024年9月29日","excerpt":"<p>前言:用作服务器的是一台8年前的海尔笔记本电脑，双核1.1GHz，4G RAM，1T ROM，已经不能从容地使用windows图形化界面了。在这之前被我安装了Manjaro和windows10双系统，但实验课需要使用Ubuntu，于是再安装一个Ubuntu做三系统。但中间出现很多小插曲，比如Manjaro在reboot后直接从硬盘蒸发了，装好ubuntu后win10的启动引导也没了，好在ubuntu server最后安稳落机。</p>\\n<p>Manjaro也使用了一段时间，和ubuntu比起来，我更喜欢manjaro管理和安装软件的方式，但用作服务器，ubuntu更稳定一些，不过也更考验记忆力。</p>","autoDesc":true}')}}]);